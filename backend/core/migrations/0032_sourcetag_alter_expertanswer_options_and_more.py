# Generated by Django 5.2.3 on 2025-07-10 14:05

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0031_alter_clientexperttype_options_and_more'),
    ]

    operations = [
        migrations.CreateModel(
            name='SourceTag',
            fields=[
                ('tag', models.CharField(help_text='–¢–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –Ω–∏–∂–Ω–∏–µ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏—è', max_length=25, primary_key=True, serialize=False, verbose_name='–ú–µ—Ç–∫–∞')),
            ],
            options={
                'verbose_name': 'UTM-–ú–µ—Ç–∫–∞',
                'verbose_name_plural': 'UTM-–ú–µ—Ç–∫–∞',
            },
        ),
        migrations.AlterModelOptions(
            name='expertanswer',
            options={'ordering': ['date'], 'verbose_name': '–û—Ç–≤–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–∞', 'verbose_name_plural': '–û—Ç–≤–µ—Ç—ã —ç–∫—Å–ø–µ—Ä—Ç–æ–≤'},
        ),
        migrations.AddField(
            model_name='miniconsult',
            name='end_date',
            field=models.DateTimeField(blank=True, null=True, verbose_name='–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è'),
        ),
        migrations.AlterField(
            model_name='client',
            name='subscription_plan',
            field=models.CharField(blank=True, choices=[('trial', '–¢–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥'), ('standard', '‚ú® SoulMind –°—Ç–∞–Ω–¥–∞—Ä—Ç'), ('premium', 'üíé SoulMind –ü—Ä–µ–º–∏—É–º')], max_length=50, verbose_name='–¢–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏'),
        ),
        migrations.AlterField(
            model_name='clientactionlimit',
            name='subscription_plan',
            field=models.CharField(blank=True, choices=[('trial', '–¢–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥'), ('standard', '‚ú® SoulMind –°—Ç–∞–Ω–¥–∞—Ä—Ç'), ('premium', 'üíé SoulMind –ü—Ä–µ–º–∏—É–º')], max_length=50, verbose_name='–¢–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏'),
        ),
        migrations.AlterField(
            model_name='miniconsult',
            name='date',
            field=models.DateTimeField(auto_now_add=True, verbose_name='–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è'),
        ),
        migrations.CreateModel(
            name='Purchase',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('client_subscription', models.CharField(blank=True, choices=[('trial', '–¢–µ—Å—Ç–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥'), ('standard', '‚ú® SoulMind –°—Ç–∞–Ω–¥–∞—Ä—Ç'), ('premium', 'üíé SoulMind –ü—Ä–µ–º–∏—É–º')], max_length=50, verbose_name='–¢–∏–ø –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –º–æ–º–µ–Ω—Ç –ø–æ–∫—É–ø–∫–∏')),
                ('purchase_type', models.CharField(choices=[('standard_subscription', 'Standard Subscription'), ('premium_subscription', 'Premium Subscription'), ('mini_consult', 'Mini Consult'), ('vip_personal_report', 'Vip Personal Report'), ('vip_compatability', 'Vip Compatability'), ('extra_compatability', 'Extra Compatability'), ('extra_soul_muse_question', 'Extra Soul Muse Question')], max_length=100, verbose_name='–¢–∏–ø –æ–ø–ª–∞—Ç—ã')),
                ('is_free', models.BooleanField(default=False, verbose_name='–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–æ–∫—É–ø–∫–∞')),
                ('value', models.IntegerField(blank=True, null=True, verbose_name='–ó–Ω–∞—á–µ–Ω–∏–µ')),
                ('date', models.DateTimeField(auto_now_add=True)),
                ('client', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payments', to='core.client', verbose_name='–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å')),
            ],
            options={
                'verbose_name': '–û–ø–ª–∞—Ç–∞',
                'verbose_name_plural': '–û–ø–ª–∞—Ç—ã',
                'ordering': ['-date'],
            },
        ),
        migrations.AddField(
            model_name='client',
            name='source_tag',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='clients', to='core.sourcetag', verbose_name='UTM –ú–µ—Ç–∫–∞'),
        ),
        migrations.DeleteModel(
            name='Payment',
        ),
    ]
